<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Generating or Entering Charges &mdash; WARES Billing 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/aaltsys.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="WARES Billing 1.0 documentation" href="index.html" />
    <link rel="next" title="Charges Audit Reports" href="06_audits.html" />
    <link rel="prev" title="Extending Rates to Charges" href="04_extend.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="06_audits.html" title="Charges Audit Reports"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="04_extend.html" title="Extending Rates to Charges"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">WARES Billing 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Generating or Entering Charges</a><ul>
<li><a class="reference internal" href="#optional-entered-charges">Optional Entered Charges</a></li>
<li><a class="reference internal" href="#generated-charges">Generated Charges</a></li>
<li><a class="reference internal" href="#mandatory-generated-charges">Mandatory Generated Charges</a></li>
<li><a class="reference internal" href="#product-calculated-charges">Product Calculated Charges</a></li>
<li><a class="reference internal" href="#repeating-calendar-charges">Repeating Calendar Charges</a></li>
<li><a class="reference internal" href="#recurring-calculated-charges">Recurring Calculated Charges</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="04_extend.html"
                        title="previous chapter">Extending Rates to Charges</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="06_audits.html"
                        title="next chapter">Charges Audit Reports</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/05_apply.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="generating-or-entering-charges">
<span id="bill-apply"></span><h1>Generating or Entering Charges<a class="headerlink" href="#generating-or-entering-charges" title="Permalink to this headline">¶</a></h1>
<p><strong>Standard Contract Terms</strong> and <strong>Rate Quotation</strong> reports categorize business
services. This topic explains how charges for those services are determined and
accumulated for billing.</p>
<p>Most charges are applied to activities, with the exception of charges which are
generated from calendar events. Charge records are keyed by a combination of
the transaction identifier of the source activity, and the payer of the charge.
Usually, the payer is the account associated with the activity transaction.
Where a calendar event creates a charge, or where a charge is applied without
an associated activity, a sequential counter supplies the charge identifier.</p>
<p>WARES uses five mechanisms to capture charges: clerical entry, generation from
activity, generation from calendar, product calculations from activity, and
product calculations from calendar.</p>
<div class="section" id="optional-entered-charges">
<h2>Optional Entered Charges<a class="headerlink" href="#optional-entered-charges" title="Permalink to this headline">¶</a></h2>
<p>Certain types of charges are inherently optional; these charges require a
clerical entry. Here are some circumstances where optional entry is required:</p>
<ul class="simple">
<li>The rate or charge for an item varies and cannot be determined in advance,
as with freight charges for an overpacked package.</li>
<li>The occurrence of an action cannot be predicted, such as having to restack a
pallet or replace a broken pallet shell.</li>
<li>The quantity of an item cannot be predicted, as would happen with labor
charges for performing a physical inventory.</li>
<li>An event happens across many accounts, but with very low frequency, and so
the rate is made Global. Global rates are always optional.</li>
</ul>
<p>Optional charges can be entered for an activity up to the point that the
transaction is completed, verified, and released to billing calculation. An
example of of the charges entry page for an activity follows:</p>
<img alt="_images/charge-line-entry-1.png" src="_images/charge-line-entry-1.png" />
<p>Once mandatory and calculated charges are added to an activity, editing the
charges is not an option. The charge entry page shows all the charges including
the mandatory code <strong>MB</strong> line, but the page becomes view-only as shown:</p>
<img alt="_images/charge-line-entry-2.png" src="_images/charge-line-entry-2.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The deficit column is visible but entries are calculated and protected</li>
<li>Quantity, Factor, Minimum, and Surcharge entries used in rate formulas
are not shown</li>
</ul>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">The <em>Clerical Labor</em> seems not to extend correctly, as the <strong>Amount</strong> times
the <strong>Rate</strong> would be $1.50. But for this rate, the quantity is not per each
hour, but per each <em>Quarter-hour</em>. See the topic on <a class="reference internal" href="04_extend.html#rate-extend"><em>Extending Rates to Charges</em></a> for
details on how charges are calculated.</p>
</div>
</div>
<div class="section" id="generated-charges">
<h2>Generated Charges<a class="headerlink" href="#generated-charges" title="Permalink to this headline">¶</a></h2>
<p>The billing for an activity transaction can be hand-calculated by setting the
transaction&#8217;s status, but this does not leave a batch calculation audit trail.
Further, changing status by hand is not a satisfactory method for updating
charges on hundreds of transactions at a time.</p>
<p>For all rates which are not optional, WARES uses batch methods to generate the
charges. Each batch has a unique identifier, a record of the batch input, start
and end datetimes, and a count of transactions processed. Also each charge
record created or updated by a batch method is stamped with the batch
identifier.</p>
<p>Batch billing routines include user controls to select or filter the records to
process. In this way, the user easily manages billing for hundreds or thousands
of records at a time.</p>
</div>
<div class="section" id="mandatory-generated-charges">
<h2>Mandatory Generated Charges<a class="headerlink" href="#mandatory-generated-charges" title="Permalink to this headline">¶</a></h2>
<p>A billing batch process selects completed activity transactions, closing them
to updates and creating or updating manatory and calculated charges.</p>
<p>The default is to process transactions for all accounts in all activities,
beginning from the start of the open period until the end of the open period,
or until the current day if that is earlier.</p>
<p>Since billing routines prevent further updates to transactions, this global
selection rule is not always desirable. WARES displays a user control to select
which records from activity are ready for billing:</p>
<img alt="_images/cal-activity.png" src="_images/cal-activity.png" />
<p>To process a transaction, rates are selected based on the following criteria:</p>
<ul class="simple">
<li>Only mandatory and calculated rates are considered in this section</li>
<li>Rates must belong to the transaction&#8217;s account, or to groups not associated
with an account</li>
<li>Rates must reference the activity of the transaction</li>
</ul>
<p>Before calculating billing on a transaction, the set of possible charge record
identifiers is generated based on the transaction identifier and the payers
specified on the selected rates. Mandatory and Calculated charge lines with
these charge identifiers are then selected and deleted.</p>
<p>Rate calculation proceeds as follows for each mandatory rate record:</p>
<ol class="arabic simple">
<li>An <strong>Amount</strong> is determined for the rate&#8217;s <strong>Per</strong> unit associated with the
<strong>Activity</strong></li>
<li>If this <strong>Amount</strong> is not zero, it is used to calculate a <strong>Deficit</strong>, a
<strong>Rate</strong>, and a <strong>Charge</strong> as described in <a class="reference internal" href="04_extend.html#rate-extend"><em>Extending Rates to Charges</em></a></li>
<li>Using the transaction <strong>Identifier</strong> and <strong>Payer</strong>, a charge record header
is written for the transaction if none exists</li>
<li>A charge line is added for the mandatory charge.</li>
</ol>
<p>This description makes it clear that a mandatory rate creates a single charge
line. Where a mandatory rate refers to something like case picking, the <strong>Per</strong>
code must calculate a total for the entire transaction.</p>
</div>
<div class="section" id="product-calculated-charges">
<h2>Product Calculated Charges<a class="headerlink" href="#product-calculated-charges" title="Permalink to this headline">¶</a></h2>
<p>Once mandatory charges are applied to a transaction, another billing routine
applies calculated charges to each line item of the transaction. Lines are read
in sequence, and the product is checked to determine a rate group identifier.
Then rates are selected to apply based on the criteria:</p>
<ul class="simple">
<li>Only Calculated rates are considered</li>
<li>Rates must belong to the product&#8217;s rate group</li>
<li>Rates must reference the activity of the transaction</li>
</ul>
<p>Now for the line, rates are applied as follows for each calculated rate record:</p>
<ol class="arabic simple">
<li>Using the rate&#8217;s <strong>Per</strong> unit for the <strong>Activity</strong>, an <strong>Amount</strong> is
calculated for the line</li>
<li>If this <strong>Amount</strong> is not zero, it is used to calculate a <strong>Deficit</strong>, a
<strong>Rate</strong>, and a <strong>Charge</strong> as described above</li>
<li>Using the transaction <strong>Identifier</strong> and <strong>Payer</strong>, a charge record header
is written for the transaction if none exists</li>
<li>A charge line is added for the calculated charge.</li>
</ol>
<p>This sounds like the way Mandatory charges are applied, and it is. The
difference is in applying rates one line at a time based on the line&#8217;s product
rate group.</p>
</div>
<div class="section" id="repeating-calendar-charges">
<h2>Repeating Calendar Charges<a class="headerlink" href="#repeating-calendar-charges" title="Permalink to this headline">¶</a></h2>
<p>Repeating charges are applied by selecting scheduled rates from the calendar
list, while calling a billing routine to apply the charges. Each calendar entry
will generate one charge line item. Charges calculated from calendar events are identified by a sequential charge number and the payer id, and there is no
associated activity.</p>
<p>An example calendar selection page for Repeating Rates follows:</p>
<img alt="_images/cal-repeating.png" src="_images/cal-repeating.png" />
<p>The <strong>Active By</strong> calendar date defaults to the current date for selection,
while the <strong>Next Date</strong> of each rate is used to update calendars during
calculation. Setting the <strong>Active By</strong> date to a future date allows billing
calculations based on calendars to be calculated in advance. This feature is
useful when the end of a period falls on a weekend, for example.</p>
<p>Note that the typical <strong>Group</strong> for a repeating rate is an account identifier,
and codes used may vary. In this example, the accounting implications of a
building lease are different from long-term machinery storage, and so the
service codes for these two rates are different.</p>
</div>
<div class="section" id="recurring-calculated-charges">
<h2>Recurring Calculated Charges<a class="headerlink" href="#recurring-calculated-charges" title="Permalink to this headline">¶</a></h2>
<p>For stored product, a routine calculates recurring product storage charges
based on an account&#8217;s recurring calculation settings and calendar. Recurring
storage charges are identified by a sequential charge number and the payer id.
Each charge is associated with a single product, and the charge is linked to
a recurring storage audit table which documents stock activity and balances for
product and lot quantities.</p>
<p>The following image shows the calendar selection page for recurring  Calculation:</p>
<img alt="_images/cal-recurring.png" src="_images/cal-recurring.png" />
<p>Note that the filter allows selection by <strong>Account</strong> rather than <strong>Group</strong>, and
the code <strong>1S</strong> of associated rates is auto-filled.</p>
<p>See the <a class="reference internal" href="08_recurring.html#bill-recurring"><em>Recurring Calculation Audits</em></a> article for more information on how recurring
storage charges are calculated and audited.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="06_audits.html" title="Charges Audit Reports"
             >next</a></li>
        <li class="right" >
          <a href="04_extend.html" title="Extending Rates to Charges"
             >previous</a> |</li>
        <li><a href="index.html">WARES Billing 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Gerald Lovel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b1.
    </div>
  </body>
</html>